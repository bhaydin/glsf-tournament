<div class="dialog">
  <button class="exitbutton" (click)="onNoClick()">X</button>
  <div class="splitleft">
    <button *ngIf="currentUser.AccessLevel == 1" (click)="openCameraDialog()">Take Image</button>
    <label *ngIf="currentUser.AccessLevel == 1" class="leftrightmargin">or</label>
    <input #picture *ngIf="currentUser.AccessLevel == 1" type="file" accept="image/*" (change)="preview(picture.files)" style="display: none">
    <button *ngIf="currentUser.AccessLevel == 1" (click)="picture.click()">Choose Image</button><br /><br /><br />
    <div style="position: relative; height:234px; width:234px; ">
      <img [src]="this.fishInEdit.Image" onload="this.style.display=''" onerror="this.style.display='none'" />
      <button (click)="removeImage()" *ngIf="currentUser.AccessLevel == 1" [hidden]="!imageAvailable" class="removebutton">X</button>
    </div><br />

    <label>Valid</label>
    <input [(ngModel)]="this.fishInEdit.IsValid" [disabled]="currentUser.AccessLevel != 1" class="leftmargin" type=checkbox><br /><br />

    <label>Weight (Lbs):</label><br />
    <input [(ngModel)]="this.fishInEdit.Weight" [disabled]="currentUser.AccessLevel != 1" type=text placeholder="Weight" class="standardwidth"><br /><br />

    <label>Length (in):</label><br />
    <input [(ngModel)]="this.fishInEdit.Length" [disabled]="currentUser.AccessLevel != 1" type=text placeholder="Length" class="standardwidth"><br /><br />

    <label>Fin Clips:</label><br />
    <select *ngIf="currentUser.AccessLevel == 1" [(ngModel)]="this.fishInEdit.FinClip" class="standardwidth">
      <option value='Unspecified' (click)="selectedOption(true)" [selected]="this.fishInEdit.FinClip == 'Unspecified'">Unspecified</option>
      <option value='Fins Clipped' (click)="selectedOption(false)" [selected]="this.fishInEdit.FinClip == 'Fins Clipped'">Fins Clipped</option>
      <option value='No Fins Clipped' (click)="selectedOption(true)" [selected]="this.fishInEdit.FinClip == 'No Fins Clipped'">No Fins Clipped</option>
    </select>
    <input [(ngModel)]="this.fishInEdit.FinClip" *ngIf="currentUser.AccessLevel != 1" [disabled]="true" class="standardwidth" type=text><br />
    <input [(ngModel)]="this.fishInEdit.FinsClipped" [disabled]="valueSelected || currentUser.AccessLevel != 1" class="standardwidth" placeholder="Clips" type=text>
  </div>

  <div class="splitright">
    <label>Tournament:</label><br />
    <select *ngIf="currentUser.AccessLevel == 1" [(ngModel)]="this.fishInEdit.TournamentId" class="standardwidth" [disabled]="this.request.noTournamentsAvailable">
      <option *ngFor="let tournament of this.request.tournaments" (click)="filterTournament(tournamentSelect.value)" [selected]="this.fishInEdit.TournamentId == tournament.Id" value='{{tournament.Id}}'>{{tournament.Name}}</option>
    </select>
    <input *ngIf="currentUser.AccessLevel != 1" type="text" [disabled]="true" [(ngModel)]="this.baseTournament" /><br /><br />

    <label>Boat:</label><br />
    <select *ngIf="currentUser.AccessLevel == 1" [(ngModel)]="this.fishInEdit.BoatId" class="standardwidth" [disabled]="this.request.noBoatsAvailable">
      <option *ngFor="let boat of this.request.boats" (click)="filterBoat(boatSelect.value)" [selected]="this.fishInEdit.BoatId == boat.Id" value='{{boat.Id}}'>{{boat.Name}}</option>
    </select>
    <input *ngIf="currentUser.AccessLevel != 1" type="text" [disabled]="true" [(ngModel)]="this.baseBoat" /><br /><br />

    <label>Caught By:</label><br />
    <select *ngIf="currentUser.AccessLevel == 1" [(ngModel)]="this.fishInEdit.MemberId" class="standardwidth" [disabled]="this.request.noBoatsAvailable || this.request.noMembersAvailable">
      <option *ngFor="let member of this.request.members" [selected]="this.fishInEdit.MemberId == member.Id" value='{{member.Id}}'>{{member.Name}}</option>
    </select>
    <input *ngIf="currentUser.AccessLevel != 1" type="text" [disabled]="true" [(ngModel)]="this.baseMember" /><br /><br />

    <label>Station:</label><br />
    <select *ngIf="currentUser.AccessLevel == 1" [(ngModel)]="this.fishInEdit.StationNumber" class="standardwidth" [disabled]="this.request.noStationsAvailable">
      <option *ngFor="let station of this.request.stations" [selected]="this.fishInEdit.StationNumber == station.Id" value='{{station.Id}}'>{{station.Id}} : {{station.Port}}</option>
    </select>
    <input *ngIf="currentUser.AccessLevel != 1" type="text" [disabled]="true" [(ngModel)]="this.baseStation" /><br /><br />

    <label>Species:</label><br />
    <select [(ngModel)]="this.fishInEdit.Species" *ngIf="currentUser.AccessLevel == 1" class="standardwidth">
      <option *ngFor="let fish of fishes" [selected]="this.fishInEdit.Species == fish" value='{{fish}}'>{{fish}}</option>
    </select>
    <input *ngIf="currentUser.AccessLevel != 1" type="text" [disabled]="true" [(ngModel)]="this.fishInEdit.Species"/><br /><br />

    <label>Tagged:</label>
    <input [(ngModel)]="this.fishInEdit.HasTag" class="leftmargin" [disabled]="currentUser.AccessLevel != 1" type=checkbox><br />

    <input [(ngModel)]="this.fishInEdit.SampleNumber" class='standardwidth' [disabled]="currentUser.AccessLevel != 1" placeholder="Sample Number" type=text><br /><br />

    <label>Port Name:</label><br />
    <input [(ngModel)]="this.fishInEdit.Port" [disabled]="currentUser.AccessLevel != 1" type=text placeholder="Port" class="standardwidth"><br /><br />

    <label>Date Caught:</label><br />
    <mat-datepicker-toggle *ngIf="currentUser.AccessLevel == 1" matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker touchUi #picker></mat-datepicker>
    <input (click)="picker.open()" [disabled]="currentUser.AccessLevel != 1" [matDatepicker]="picker" [value]="dateCaught" class="short" [max]="currentDate" readonly><br /><br />
  </div>
  <button *ngIf="currentUser.AccessLevel == 1" class="saveButton" [disabled]="this.request.noBoatsAvailable || this.request.noTournamentsAvailable || this.request.noStationsAvailable || this.request.noMembersAvailable" (click)="saveChanges(picker._validSelected)">Save Changes</button>
  <button *ngIf="currentUser.AccessLevel == 1" class="deleteButton" (click)="deleteFish()" [disabled]="this.fishInEdit.IsValid">Delete Entry</button>
</div>
