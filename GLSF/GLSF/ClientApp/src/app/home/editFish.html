<div class="dialog">
  <button class="exitbutton" (click)="onNoClick()">X</button>
  <div class="splitleft">
    <button *ngIf="currentUser.AccessLevel == 1" (click)="openCameraDialog()">Take Image</button>
    <label *ngIf="currentUser.AccessLevel == 1" class="leftrightmargin">or</label>
    <input #picture *ngIf="currentUser.AccessLevel == 1" type="file" accept="image/*" (change)="preview(picture.files)" style="display: none">
    <button *ngIf="currentUser.AccessLevel == 1" (click)="picture.click()">Choose Image</button><br /><br /><br />
    <div style="position: relative; height:234px; width:234px; ">
      <img [src]="this.fishInEdit.Image" onload="this.style.display=''" onerror="this.style.display='none'" />
      <button (click)="removeImage()" [hidden]="!imageAvailable" class="removebutton" *ngIf="currentUser.AccessLevel == 1">X</button>
    </div>
    <label>{{validFishLabel}}</label><br />

    <label>Valid</label>
    <input [(ngModel)]="this.fishInEdit.IsValid" [disabled]="currentUser.AccessLevel != 1" class="leftmargin" type=checkbox><br /><br />

    <label>Weight (Lbs):</label><br />
    <input [(ngModel)]="this.fishInEdit.Weight" type=text placeholder="Weight" [disabled]="currentUser.AccessLevel != 1" class="standardwidth">
    <label class="required">{{weightLabel}}</label><br /><br />

    <label>Length (in):</label><br />
    <input [(ngModel)]="this.fishInEdit.Length" type=text placeholder="Length" [disabled]="currentUser.AccessLevel != 1" class="standardwidth">
    <label class="required">{{lengthLabel}}</label><br /><br />

    <label>No Fin Clips:</label>
    <input [(ngModel)]="this.fishInEdit.NoClips" [disabled]="currentUser.AccessLevel != 1" type="checkbox" class="leftmargin"/><br />
    <input [(ngModel)]="this.fishInEdit.FinsClipped" [disabled]="currentUser.AccessLevel != 1" class="standardwidth" placeholder="Fins Clipped" type=text>
  </div>

  <div class="splitright">
    <label>Tournament:</label><br />
    <select #tournamentSelect *ngIf="currentUser.AccessLevel == 1" [(ngModel)]="this.fishInEdit.TournamentId" class="standardwidth" [disabled]="this.request.noTournamentsAvailable">
      <option *ngFor="let tournament of this.request.tournaments" (click)="filterTournament(tournamentSelect.value)" value='{{tournament.Id}}'>{{tournament.Name}}</option>
    </select>
    <input *ngIf="currentUser.AccessLevel != 1" type="text" [disabled]="true" [(ngModel)]="this.baseTournament" /><br /><br />

    <label>Boat:</label><br />
    <select #boatSelect *ngIf="currentUser.AccessLevel == 1" [(ngModel)]="this.fishInEdit.BoatId" class="standardwidth" [disabled]="this.request.noBoatsAvailable">
      <option *ngFor="let boat of this.request.checkedInBoats" (click)="filterBoat(boatSelect.value)" value='{{boat.Id}}'>{{boat.Name}}</option>
    </select>
    <input *ngIf="currentUser.AccessLevel != 1" type="text" [disabled]="true" [(ngModel)]="this.baseBoat" /><br /><br />

    <label>Caught By:</label><br />
    <select *ngIf="currentUser.AccessLevel == 1" [(ngModel)]="this.fishInEdit.MemberId" class="standardwidth" [disabled]="this.request.noBoatsAvailable || this.request.noMembersAvailable">
      <option *ngFor="let member of this.request.members" value='{{member.Id}}'>{{member.Name}}</option>
    </select>
    <input *ngIf="currentUser.AccessLevel != 1" type="text" [disabled]="true" [(ngModel)]="this.baseMember" /><br /><br />

    <label>Station:</label><br />
    <select *ngIf="currentUser.AccessLevel == 1" [(ngModel)]="this.fishInEdit.StationNumber" class="standardwidth" [disabled]="this.request.noStationsAvailable">
      <option *ngFor="let station of this.request.stations" value='{{station.Id}}'>{{station.Id}} : {{station.Port}}</option>
    </select>
    <input *ngIf="currentUser.AccessLevel != 1" type="text" [disabled]="true" [(ngModel)]="this.baseStation" /><br /><br />

    <label>Species:</label><br />
    <select [(ngModel)]="this.fishInEdit.Species" *ngIf="currentUser.AccessLevel == 1" class="standardwidth">
      <option *ngFor="let fish of fishes" value='{{fish}}'>{{fish}}</option>
    </select>
    <input *ngIf="currentUser.AccessLevel != 1" type="text" [disabled]="true" [(ngModel)]="this.fishInEdit.Species"/><br /><br />

    <label>Tagged:</label>
    <input [(ngModel)]="this.fishInEdit.HasTag" class="leftmargin" [disabled]="currentUser.AccessLevel != 1" type=checkbox><br />

    <input [disabled]="currentUser.AccessLevel != 1" [(ngModel)]="this.fishInEdit.SampleNumber" class='standardwidth' placeholder="Sample Number" type=text>
    <label class="required">{{sampleLabel}}</label><br /><br />

    <label>Port Name:</label><br />
    <input [(ngModel)]="this.fishInEdit.Port" [disabled]="currentUser.AccessLevel != 1" type=text placeholder="Port" class="standardwidth"><br /><br />

    <label>Date Caught:</label><br />
    <mat-datepicker-toggle *ngIf="currentUser.AccessLevel == 1" matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker touchUi #picker></mat-datepicker>
    <input (click)="picker.open()" [disabled]="currentUser.AccessLevel != 1" [matDatepicker]="picker" [value]="dateCaught" class="short" [max]="currentDate" readonly><br /><br />
  </div>
  <button *ngIf="currentUser.AccessLevel == 1" class="saveButton" [disabled]="this.request.noBoatsAvailable || this.request.noTournamentsAvailable || this.request.noStationsAvailable || this.request.noMembersAvailable" (click)="saveChanges(picker._validSelected)">Save Changes</button>
  <button *ngIf="currentUser.AccessLevel == 1" [disabled]="this.fishInEdit.IsValid" class="deleteButton" (click)="deleteFish()">Delete Entry</button>
</div>
