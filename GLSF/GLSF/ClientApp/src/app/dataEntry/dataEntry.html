<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.13.5/dist/tf.min.js"></script>

<h2 class="yellowTitle">Enter Fish to Database</h2>
<div class="splitright">
  <button (click)="openDialog()" class="moverightbutton">Take Image</button>
  <label class="leftrightmargin">or</label>
  <input #picture type="file" accept="image/*" (change)="preview(picture.files)" style="display: none">
  <button (click)="picture.click()">Choose Image</button><br /><br /><br /><br />
  <div style="position: relative;">
    <img [src]="base64" onload="this.style.display=''" onerror="this.style.display='none'" class="moverightbutton" />
    <button (click)="removeImage()" [hidden]="!imageAvailable" class="removeimage">X</button>
  </div>
  <label>{{validFishLabel}}</label>
  <canvas id="canvas" hidden></canvas>
</div>

<div class="splitleft">
  <label class="required">{{idLabel}}</label><br />
  <label>Tournament:</label><label style="margin-left:125px;">Boat:</label><br />
  <select #tournamentSelect [disabled]="this.request.noTournamentsAvailable" class="moveright standardwidth">
    <option *ngFor="let tournament of this.request.tournaments" (click)="filterTournament(tournamentSelect.value, juniorCheckbox.checked)" value='{"Id":{{tournament.Id}}, "Name":"{{tournament.Name}}"}'>{{tournament.Name}}</option>
  </select>
  <select #boatSelect [disabled]="this.request.noBoatsAvailable" style="margin-left:45px;" class="standardwidth">
    <option *ngFor="let boat of this.request.boats" (click)="filterBoat(boatSelect.value, juniorCheckbox.checked)" value='{"Id":{{boat.Id}}, "TournamentId":"{{boat.TournamentId}}", "Name":"{{boat.Name}}"}'>{{boat.Name}}</option>
  </select><br />

  <label>Station:</label><label style="margin-left:170px;">Members:</label><label style="margin-left:100px;">Junior: </label><br />
  <select #stationSelect [disabled]="this.request.noStationsAvailable" class="moveright standardwidth">
    <option *ngFor="let station of this.request.stations" value='{"Id":{{station.Id}}, "Name":"{{station.Port}}"}'>{{station.Id}}: {{station.Port}}</option>
  </select>
  <select #memberSelect [disabled]="this.request.noMembersAvailable" style="margin-left:45px;" class="standardwidth">
    <option *ngFor="let member of this.request.members" value='{"Id":{{member.Id}}, "Name":"{{member.Name}}"}'>{{member.Name}}</option>
  </select>
  <input style="margin-left:20px;" #juniorCheckbox type="checkbox" (change)="filterBoat(boatSelect.value, juniorCheckbox.checked)"/>
  <br />

  <label>Weight:</label><label style="margin-left:170px;">Species:</label><br />
  <input [(ngModel)]="weight" type=text placeholder="Weight (Lbs)" class="moveright standardwidth"><label class="required">{{weightLabel}}</label>
  <select #speciesSelect style="margin-left:30px;" class="standardwidth">
    <option *ngFor="let fish of fishes" value='{{fish}}'>{{fish}}</option>
  </select><br />

  <label>Length:</label><br />
  <input [(ngModel)]="length" type=text placeholder="Length (in)" class="moveright standardwidth"><label class="required">{{lengthLabel}}</label><br />

  <label style="margin-right: 10px;">Tagged:</label>
  <input [(ngModel)]="hasTag" type=checkbox><br />

  <input [(ngModel)]="sampleNumber" class='moveright standardwidth' placeholder="Sample Number" type=text [disabled]="!hasTag"><label class="required">{{sampleLabel}}</label><br />

  <label>Port Name:</label><br />
  <input [(ngModel)]="port" type=text placeholder="Port" class="moveright standardwidth"><br />

  <label>Date Caught:</label><br />
  <mat-datepicker-toggle class="moveright" matSuffix [for]="picker"></mat-datepicker-toggle>
  <mat-datepicker touchUi #picker></mat-datepicker>
  <input (click)="picker.open()" [matDatepicker]="picker" [value]="currentDate" class="short" [max]="currentDate" readonly><br /><br />
  <button (click)="createFish(speciesSelect.value, picker._validSelected, stationSelect.value, tournamentSelect.value, boatSelect.value, memberSelect.value)" [class]="subStyle">Submit</button>
</div>


